<style>
    .product-card {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background-color: antiquewhite;
        /* width: 365px; */
        max-width: 365px;
        height: 640px;
    }

    .product-image {
        padding: 10px;
        /* width: clamp(100px, 100%, 300px); */
        /* height: clamp(100px, 100%, 360px); */
        /* width: 100%; */
        /* max-width: 100%; */
        max-height: 390px;
        width: 100%;
        /* height: 390px; */
        /* height: auto; */
        /* display: inline-block; */
        /* vertical-align: middle; */
    }

    .product-details {
        display: grid;
        grid-template-rows: 1.5fr 1fr 1fr 1.5fr;
        height: 255px;
        width: 100%;
        padding: 5px 14px;
        background-color: tomato;
    }


    .product-show {
        height: 385px;
        width: 100%;
        justify-content: center;
        align-items: center;
        background-color: lightblue;
        position: relative;
    }

    .add-to-cart-btn {
        width: 100%;
        grid-row: -2 / -1;
    }

    .discount-box {
        height: 30px;
        width: 60px;
        font-size: 14px;
        line-height: 30px;
        font-weight: 800;
        color: #ffffff;
        background-color: #ff574b;
        position: absolute;
        bottom: 10px;
        z-index: 3;
    }

    .price-and-rating-row {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }

    .shipping-and-fullfillment-row {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }


    /* .product-varieties-overlay {
        display: none;
    }

    .product-varieties-overlay:hover {
        opacity: .5;
        background-color: silver;
    }

    .product-varieties {
        display: inline;
    }

    .product-variety {
        list-style: none;
    } */
</style>

<div class="m-3">
    <section class="product-card">
        <section class="product-show">
            <img 
              [src]="product.mainImage"
              class="product-image"
              alt="product image"
            />

            <div class="discount-box">
                <span>{{ product.discount }}% OFF</span>
            </div>

            <!-- <div class="product-varieties-overlay">
                <ul 
                  *ngFor="let v of product.productVarieties"
                  class="product-varieties">
                    <li class="product-variety">{{v}}</li>
                </ul>
            </div> -->

        </section>
        <section class="product-details">
            <p>{{ product.title }}</p>

            <div class="price-and-rating-row">
                <div>
                    <div>
                        {{ product.price.currentPrice * ((100 - product.discount) / 100) }}
                    </div>

                    <div *ngIf="product.discount">
                        <small>
                            <strike>{{ product.price.currentPrice }}</strike>
                        </small>
                    </div>
                </div>
                
                <div>
                    rating
                </div>
            </div>

            <div class="shipping-and-fullfillment-row">
                <div *ngIf="product.shipping">Free Shipping</div>
                <div *ngIf="product.fullfilledBySouq">Fullfilled by Souq</div>
            </div>

            <button class="add-to-cart-btn">ADD TO CART</button>
        </section>
    </section>
</div>